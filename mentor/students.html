<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>수강생 현황 - AI-X 멘토 시스템</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      scroll-behavior: smooth;
    }
    .card {
      transition: transform 0.2s ease;
    }
    .card:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body class="bg-gray-50">
  <!-- 네비게이션 -->
  <nav class="bg-blue-600 text-white shadow-lg">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center space-x-4">
          <button onclick="goBackToMentor()" class="text-blue-200 hover:text-white">
            ← 멘토 대시보드
          </button>
          <h1 class="text-xl font-bold">수강생 현황</h1>
        </div>
        <div class="flex items-center space-x-4">
          <span class="text-blue-200">멘토: 김민준 멘토님</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- 메인 콘텐츠 -->
  <div class="max-w-6xl mx-auto p-6">

    <!-- 현재 팀 기본 정보 -->
    <div id="teamBasicInfo" class="bg-white rounded-xl shadow-lg p-6 mb-8">
      <!-- JavaScript로 동적 업데이트됨 -->
    </div>

    <!-- 데일리 스크럼 요약 -->
    <div class="bg-white rounded-xl shadow-lg p-6">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-xl font-semibold text-gray-800">📝 데일리 스크럼 요약</h3>
        <div class="flex items-center space-x-2">
          <label for="weekSelect" class="text-sm text-gray-600">주차 선택:</label>
          <select id="weekSelect" onchange="switchWeek()" 
                  class="bg-white border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="2025-07-27--2025-08-02">2025-07-27~2025-08-02</option>
            <option value="2025-07-20--2025-07-26">2025-07-20~2025-07-26</option>
            <option value="2025-07-13--2025-07-19">2025-07-13~2025-07-19</option>
            <option value="2025-07-06--2025-07-12">2025-07-06~2025-07-12</option>
          </select>
        </div>
      </div>
      <div class="overflow-x-auto">
        <table class="min-w-full table-auto">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">조</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이름</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">날짜별 작업기록</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">요약</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200" id="scrumSummary">
            <!-- JavaScript로 동적 업데이트됨 -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // 팀 데이터
    const TEAMS_DATA = {
      team1: {
        name: '1팀 - AI 챗봇 프로젝트',
        students: 6,
        attendance: 80,
        completion: 75,
        status: '정상',
        statusClass: 'bg-green-100 text-green-800'
      },
      team2: {
        name: '2팀 - 추천 시스템 프로젝트',
        students: 5,
        attendance: 60,
        completion: 70,
        status: '주의',
        statusClass: 'bg-red-100 text-red-800'
      }
    };

    // 주간별 스크럼 요약 데이터
    const SCRUM_SUMMARY_BY_WEEK = {
      '2025-07-27--2025-08-02': {
        team1: [
        {
          team: '1조',
          student: 'Seulgi Lee',
          dailyRecords: [
            { date: '2025-08-01', record: '유튜브 영상 분석 시 요리와 관련되지 않은 영상 예외처리.' },
            { date: '2025-07-31', record: '프로젝트룸 고민: 문제는 "이름불로하지"였다.' },
            { date: '2025-07-31', record: '스크립트에서 레시피 추출 오류 → LLM 수정하여 정상 추출.' }
          ],
          summary: '예외 처리 강화, 레시피 추출 정상화.'
        },
        {
          team: '1조',
          student: 'coffee J',
          dailyRecords: [
            { date: '2025-07-31', record: '프로젝트룸 고민: "이름불로하지" 이슈.' },
            { date: '2025-07-30', record: 'Gemini API를 활용해 사용자 요리 관련 자연어 요청 분석 살펴 원인 파악.' },
            { date: '2025-07-29', record: '이름 디노당 변경 해결하는 수정.' }
          ],
          summary: '요청 의도 파악 개선 필요.'
        },
        {
          team: '1조',
          student: 'han kook kim',
          dailyRecords: [
            { date: '2025-08-01', record: '3D게임 생성 임베딩 작업: GPU환경으로 개선해 1시간으로 단축.' },
            { date: '2025-07-31', record: '프로젝트룸 고민: "이름불로하지" 관련 이슈 기록.' },
            { date: '2025-07-30', record: 'Chroma DB 생성 튜닝 및 LLM을 위한 지식 베이스 준비.' }
          ],
          summary: 'GPU 전환으로 속도 개선, DB지식베이스 정비.'
        }
      ],
      team2: [
        {
          team: '1조',
          student: '윤식 박',
          dailyRecords: [
            { date: '2025-07-31', record: '프로젝트룸 고민 작업 중 이름을 정하는 문제 논의.' },
            { date: '2025-07-31', record: 'Chroma DB 생성 최적화 및 버전 관리 이슈 해결.' },
            { date: '2025-07-30', record: '임베딩 작업 통합 테스트(faiss) 환경.' }
          ],
          summary: '통합 테스트 완료, 정상 동작함 수준 확인.'
        },
        {
          team: '1조',
          student: '최원 양',
          dailyRecords: [
            { date: '2025-08-01', record: '크롤링 백엔드 서버화, 프로그램이 자체적으로 동작하도록 처리.' },
            { date: '2025-07-31', record: '프로젝트룸 고민: "이름불로하지" 기록.' },
            { date: '2025-07-29', record: '이미지파서를 json 형식으로 수출하는 구조 설계.' }
          ],
          summary: '서버화 완료, 이미지→JSON 파이프라인 설계.'
        }
      ]
        },
        '2025-07-20--2025-07-26': {
          team1: [
            {
              team: '1조',
              student: 'Seulgi Lee',
              dailyRecords: [
                { date: '2025-07-26', record: '프로젝트 초기 세팅 및 요구사항 분석 완료.' },
                { date: '2025-07-25', record: '유튜브 API 연동 테스트 진행.' },
                { date: '2025-07-24', record: '데이터 수집 파이프라인 설계.' }
              ],
              summary: '프로젝트 기초 작업 완료.'
            }
          ],
          team2: [
            {
              team: '1조',
              student: '윤식 박',
              dailyRecords: [
                { date: '2025-07-26', record: '머신러닝 모델 선택 및 환경 구축.' },
                { date: '2025-07-25', record: '데이터셋 분석 및 전처리 계획 수립.' }
              ],
              summary: '초기 환경 구축 완료.'
            }
          ]
        },
        '2025-07-13--2025-07-19': {
          team1: [
            {
              team: '1조',
              student: 'Seulgi Lee',
              dailyRecords: [
                { date: '2025-07-19', record: '팀 구성 및 역할 분담 완료.' },
                { date: '2025-07-18', record: '프로젝트 주제 확정 및 계획 수립.' }
              ],
              summary: '프로젝트 계획 수립 완료.'
            }
          ],
          team2: [
            {
              team: '1조',
              student: '윤식 박',
              dailyRecords: [
                { date: '2025-07-19', record: '프로젝트 아이디어 브레인스토밍.' },
                { date: '2025-07-18', record: '기술 스택 검토 및 선정.' }
              ],
              summary: '기술 스택 선정 완료.'
            }
          ]
        },
        '2025-07-06--2025-07-12': {
          team1: [
            {
              team: '1조',
              student: 'Seulgi Lee',
              dailyRecords: [
                { date: '2025-07-12', record: '과정 오리엔테이션 참여.' },
                { date: '2025-07-11', record: 'AI 기초 이론 학습.' }
              ],
              summary: '과정 시작, 기초 학습 완료.'
            }
          ],
          team2: [
            {
              team: '1조',
              student: '윤식 박',
              dailyRecords: [
                { date: '2025-07-12', record: '머신러닝 기초 개념 학습.' },
                { date: '2025-07-11', record: 'Python 프로그래밍 기초 복습.' }
              ],
              summary: '기초 개념 학습 완료.'
            }
          ]
        }
    };

    function goBackToMentor() {
      window.location.href = 'index.html';
    }

    function switchWeek() {
      const selectedWeek = document.getElementById('weekSelect').value;
      const currentTeam = getCurrentTeam();
      updateScrumSummary(currentTeam, selectedWeek);
    }

    function getCurrentTeam() {
      // 현재 선택된 팀 반환 (기본값: team1)
      return 'team1';
    }

    function switchTeam() {
      const selectedTeam = document.getElementById('teamSelect').value;
      const teamData = TEAMS_DATA[selectedTeam];
      const currentWeek = document.getElementById('weekSelect').value;
      
      if (teamData) {
        updateTeamInfo(teamData, selectedTeam);
        updateScrumSummary(selectedTeam, currentWeek);
      }
    }

    function updateTeamInfo(teamData, teamKey) {
      const teamInfo = document.getElementById('teamBasicInfo');
      
      teamInfo.innerHTML = `
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-xl font-semibold text-gray-800">${teamData.name.split(' - ')[0]} 기본 정보</h3>
          <span class="${teamData.statusClass} text-xs font-medium px-2.5 py-0.5 rounded">${teamData.status}</span>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div class="text-center">
            <div class="text-2xl font-bold text-blue-600">${teamData.students}명</div>
            <div class="text-sm text-gray-600">수강생 수</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-orange-600">${teamData.completion}%</div>
            <div class="text-sm text-gray-600">과제 완성도</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-purple-600">${teamData.name.includes('챗봇') ? 'AI 챗봇' : '추천 시스템'}</div>
            <div class="text-sm text-gray-600">프로젝트</div>
          </div>
        </div>
      `;
    }

    function updateScrumSummary(teamKey, weekKey = '2025-07-27--2025-08-02') {
      const weekData = SCRUM_SUMMARY_BY_WEEK[weekKey];
      const scrumData = weekData ? weekData[teamKey] : [];
      const container = document.getElementById('scrumSummary');
      
      if (!scrumData || scrumData.length === 0) {
        container.innerHTML = `
          <tr>
            <td colspan="4" class="px-4 py-8 text-center text-gray-500">
              선택한 주간에 데이터가 없습니다.
            </td>
          </tr>
        `;
        return;
      }
      
      container.innerHTML = scrumData.map(scrum => `
        <tr class="border-b">
          <td class="px-4 py-3 text-sm">${scrum.team}</td>
          <td class="px-4 py-3 text-sm font-medium">${scrum.student}</td>
          <td class="px-4 py-3 text-sm">
            ${scrum.dailyRecords.map(record => `
              <div class="mb-1">
                <span class="text-xs text-gray-500 mr-2">${record.date}</span>${record.record}
              </div>
            `).join('')}
          </td>
          <td class="px-4 py-3 text-sm text-gray-700">${scrum.summary}</td>
        </tr>
      `).join('');
    }

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function() {
      // 기본 선택된 팀 정보 표시
      updateTeamInfo(TEAMS_DATA.team1, 'team1');
      updateScrumSummary('team1', '2025-07-27--2025-08-02');
    });
  </script>
</body>
</html>