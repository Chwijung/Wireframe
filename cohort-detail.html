<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê¸°ìˆ˜ ìƒì„¸ ê´€ë¦¬ - AI-X ì‹œìŠ¤í…œ</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100">
  <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="bg-white shadow-lg">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-between items-center py-4">
        <div class="flex items-center space-x-4">
          <button onclick="handleBackToDashboard()" class="text-indigo-600 hover:text-indigo-800">
            â† ë©”ì¸í˜ì´ì§€ë¡œ
          </button>
          <h1 class="text-2xl font-bold text-gray-800" id="cohortTitle">ê¸°ìˆ˜ ìƒì„¸ ê´€ë¦¬</h1>
        </div>
        <div class="flex items-center space-x-4">
          <span class="text-gray-600">ìš´ì˜ì: ê¶ŒíšŒì€</span>
        </div>
      </div>
    </div>
  </nav>

  <div class="max-w-7xl mx-auto p-6 space-y-8">
    
    <!-- ê¸°ìˆ˜ ìƒíƒœ ì •ë³´ -->
    <section class="bg-white rounded-xl shadow-lg p-6" id="cohortInfo">
      <div class="space-y-4">
        <!-- í—¤ë” ì„¹ì…˜ -->
      <div class="flex justify-between items-start">
          <div class="flex items-center space-x-4">
            <h2 class="text-3xl font-bold text-gray-900" id="cohortName">AI-X 3ê¸°</h2>
            <span class="bg-green-600 text-black px-3 py-1 rounded-full text-sm font-medium" id="cohortStatus">ì§„í–‰ì¤‘</span>
          </div>
          <button onclick="handleEditCohortInfo()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
            <span>ì •ë³´ ìˆ˜ì •</span>
          </button>
        </div>

        <!-- ë©”ì¸ ì •ë³´ ê·¸ë¦¬ë“œ -->
        <div class="grid md:grid-cols-3 gap-3">
          <!-- êµìœ¡ ê¸°ê°„ -->
          <div class="bg-gray-50 p-3 rounded border border-gray-200">
            <div class="flex items-center space-x-1.5 mb-2">
              <svg class="w-3.5 h-3.5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
        </svg>
              <h3 class="text-sm font-medium text-gray-700">êµìœ¡ ê¸°ê°„</h3>
            </div>
            <div class="space-y-0.5">
              <p class="text-xs text-gray-900" id="startDate">2025-06-18</p>
              <p class="text-xs text-gray-500">~</p>
              <p class="text-xs text-gray-900" id="endDate">2025-08-30</p>
            </div>
          </div>

          <!-- ìˆ˜ê°•ìƒ í˜„í™© -->
          <div class="bg-gray-50 p-3 rounded border border-gray-200">
            <div class="flex items-center space-x-1.5 mb-2">
              <svg class="w-3.5 h-3.5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
              </svg>
              <h3 class="text-sm font-medium text-gray-700">ìˆ˜ê°•ìƒ í˜„í™©</h3>
        </div>
            <div class="flex items-end space-x-1 mb-1.5">
              <span class="text-lg font-bold text-gray-900" id="currentStudents">24</span>
              <span class="text-xs text-gray-600">/ <span id="maxStudents">30</span>ëª…</span>
            </div>
            <div class="bg-gray-200 rounded-full h-1">
              <div class="bg-gray-600 h-1 rounded-full transition-all duration-300" id="studentProgress" style="width: 80%"></div>
            </div>
          </div>

          <!-- ë©˜í† ë§ ì¼ì • -->
          <div class="bg-gray-50 p-3 rounded border border-gray-200">
            <div class="flex items-center space-x-1.5 mb-2">
              <svg class="w-3.5 h-3.5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
              </svg>
              <h3 class="text-sm font-medium text-gray-700">ë©˜í† ë§ ì¼ì •</h3>
            </div>
            <p class="text-base font-medium text-gray-900" id="mentoringDay">ëª©ìš”ì¼ 14:00</p>
            <p class="text-xs text-gray-500 mt-0.5" id="mentoringStatus">ì§„í–‰ì¤‘</p>
          </div>
        </div>
      </div>
    </section>

    <!-- ì£¼ìš” ì¼ì • ë° ê´€ë¦¬ ë©”ë‰´ -->
    <div class="grid md:grid-cols-2 gap-8">
      <!-- ë‹¤ìŒ ì¼ì • -->
      <section class="bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-xl font-bold mb-4 flex items-center">
          <svg class="w-5 h-5 text-orange-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          ë‹¤ìŒ ì¼ì •
        </h2>
        <div class="space-y-3" id="upcomingSchedule">
          <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ì¼ì • -->
        </div>
      </section>

      <!-- ì‹¤ì‹œê°„ í†µê³„ -->
      <section class="bg-white rounded-xl shadow-lg p-6">
        <h2 class="text-xl font-bold mb-4 flex items-center">
          <svg class="w-6 h-6 text-purple-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
          </svg>
          ì‹¤ì‹œê°„ í†µê³„
        </h2>
        <div class="grid grid-cols-2 gap-4" id="statisticsGrid">
          <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  í†µê³„ -->
        </div>
      </section>
    </div>

    <!-- ì „ì²´ ì¼ì • -->
    <section class="bg-white rounded-xl shadow-lg p-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold flex items-center">
          <svg class="w-6 h-6 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
          <span id="scheduleTitle">ì „ì²´ ì¼ì •</span>
        </h2>
        <div class="flex space-x-2">
          <button onclick="handleModifySchedule()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
            ì¼ì • ìˆ˜ì •
          </button>
          <button onclick="handleExportSchedule()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">
            ì¼ì • ë‚´ë³´ë‚´ê¸°
          </button>
        </div>
      </div>
      
      <div id="scheduleWeeks" class="space-y-4">
        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ì£¼ë³„ ì¼ì • -->
              </div>
    </section>

        </div>

  <script>
    // ëª©ì—… ë°ì´í„°
    const mockCohorts = [
      {
        id: 'ai-x-3rd',
        name: 'AI-X 3ê¸°',
        status: 'running',
        start_date: '2025-06-18',
        end_date: '2025-08-30',
        current_students: 24,
        max_students: 30,
        mentoring_day: 'ëª©ìš”ì¼ 14:00',
        schedule: {
          orientation: '2025-06-18',
          deepLearning1: '2025-06-19',
          deepLearning2: '2025-06-20',
          courseInfo: '2025-06-21',
          careerLecture: '2025-06-27',
          miniProject: '2025-06-28',
          planningPresentation: '2025-07-04',
          collaborationLecture: '2025-07-06',
          midPresentation: '2025-07-25',
          industryLecture: '2025-07-27',
          finalPresentation: '2025-08-12'
        }
      },
      {
        id: 'ai-x-2nd',
        name: 'AI-X 2ê¸°',
        status: 'completed',
        start_date: '2025-03-01',
        end_date: '2025-05-20',
        current_students: 18,
        max_students: 20,
        mentoring_day: 'ê¸ˆìš”ì¼ 15:00',
        schedule: {
          orientation: '2025-03-01',
          finalPresentation: '2025-05-20'
        }
      }
    ];

    const cohortStatusLabels = {
      recruiting: 'ëª¨ì§‘ì¤‘',
      preparing: 'ì¤€ë¹„ì¤‘',
      running: 'ì§„í–‰ì¤‘',
      completed: 'ì™„ë£Œ'
    };

    const cohortStatusStyles = {
      recruiting: { bgColor: 'bg-yellow-600' },
      preparing: { bgColor: 'bg-gray-600' },
      running: { bgColor: 'bg-green-600' },
      completed: { bgColor: 'bg-blue-600' }
    };

    // URLì—ì„œ cohortId ì¶”ì¶œ
    function getCurrentCohortId() {
      const path = window.location.pathname;
      const matches = path.match(/\/cohort-detail\/(.+)/);
      return matches ? matches[1] : 'ai-x-3rd';
    }

    let currentCohort = getCurrentCohortId();
    let currentInfo = null;
    let expandedEvents = {};

    // í†µê³„ ê³„ì‚° í•¨ìˆ˜
    function getStatistics() {
      if (!currentInfo) {
        return [
          { value: '-', label: 'ìˆ˜ê°•ìƒ', color: 'text-blue-800', bgColor: 'bg-blue-200', borderColor: 'border-blue-200', icon: 'users' },
          { value: '-', label: 'ê³¼ì œ ì œì¶œ', color: 'text-green-800', bgColor: 'bg-green-200', borderColor: 'border-green-200', icon: 'check' },
          { value: '-', label: 'ë¯¸ì œì¶œ', color: 'text-yellow-800', bgColor: 'bg-yellow-200', borderColor: 'border-yellow-200', icon: 'warning' },
          { value: '-', label: 'ë©˜í† ë§ ê¸°ë¡', color: 'text-purple-800', bgColor: 'bg-purple-200', borderColor: 'border-purple-200', icon: 'message' }
        ];
      }

      const submittedRate = Math.round(currentInfo.current_students * 0.75);
      const notSubmitted = currentInfo.current_students - submittedRate;
      const mentoringLogs = Math.round(currentInfo.current_students * 1.3);

      return [
        { value: currentInfo.current_students.toString(), label: 'ìˆ˜ê°•ìƒ', color: 'text-blue-800', bgColor: 'bg-blue-200', borderColor: 'border-blue-200', icon: 'users' },
        { value: submittedRate.toString(), label: 'ê³¼ì œ ì œì¶œ', color: 'text-green-800', bgColor: 'bg-green-200', borderColor: 'border-green-200', icon: 'check' },
        { value: notSubmitted.toString(), label: 'ë¯¸ì œì¶œ', color: 'text-yellow-800', bgColor: 'bg-yellow-200', borderColor: 'border-yellow-200', icon: 'warning' },
        { value: mentoringLogs.toString(), label: 'ë©˜í† ë§ ê¸°ë¡', color: 'text-purple-800', bgColor: 'bg-purple-200', borderColor: 'border-purple-200', icon: 'message' }
      ];
    }

    // ë‹¤ìŒ ì¼ì • ê³„ì‚° í•¨ìˆ˜
    function getUpcomingSchedule() {
      if (!currentInfo || !currentInfo.schedule) {
        return [
          {
            title: 'â° ì¼ì • ì—†ìŒ',
            date: '-',
            description: 'ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤',
            bgColor: 'bg-gray-50',
            borderColor: 'border-gray-200',
            textColor: 'text-gray-800',
            dateColor: 'text-gray-600'
          }
        ];
      }

      const schedule = currentInfo.schedule;
      const today = new Date();
      const upcomingEvents = [];

      const eventMapping = {
        orientation: { title: 'OT (ì˜¤ë¦¬ì—”í…Œì´ì…˜)', color: 'blue' },
        deepLearning1: { title: 'ë”¥ëŸ¬ë‹ íŠ¹ê°• 1ì¼ì°¨', color: 'blue' },
        deepLearning2: { title: 'ë”¥ëŸ¬ë‹ íŠ¹ê°• 2ì¼ì°¨', color: 'blue' },
        courseInfo: { title: 'ê³¼ì • ì•ˆë‚´', color: 'green' },
        careerLecture: { title: 'ì·¨ì—… íŠ¹ê°•', color: 'green' },
        miniProject: { title: 'ë¯¸ë‹ˆí”„ë¡œì íŠ¸ ë°œí‘œ', color: 'green' },
        planningPresentation: { title: 'ê¸°íš ë°œí‘œ', color: 'green' },
        collaborationLecture: { title: 'í˜‘ì—… íŠ¹ê°•', color: 'blue' },
        midPresentation: { title: 'ì¤‘ê°„ ë°œí‘œ', color: 'green' },
        industryLecture: { title: 'í˜„ì§ì íŠ¹ê°•', color: 'blue' },
        finalPresentation: { title: 'ìµœì¢… ë°œí‘œ', color: 'green' }
      };

      const colorClasses = {
        blue: { bgColor: 'bg-blue-50', borderColor: 'border-blue-200', textColor: 'text-blue-800', dateColor: 'text-blue-600' },
        green: { bgColor: 'bg-green-50', borderColor: 'border-green-200', textColor: 'text-green-800', dateColor: 'text-green-600' },
        gray: { bgColor: 'bg-gray-50', borderColor: 'border-gray-200', textColor: 'text-gray-800', dateColor: 'text-gray-600' }
      };

      Object.entries(schedule).forEach(([key, dateString]) => {
        if (dateString && eventMapping[key]) {
          const eventDate = new Date(dateString);
          if (eventDate >= today) {
            const event = eventMapping[key];
            const isNearFuture = eventDate <= new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
            const colorKey = isNearFuture ? 'blue' : 'green';
            const colors = colorClasses[colorKey];
            
            upcomingEvents.push({
              title: event.title,
              date: new Intl.DateTimeFormat('ko-KR', { 
                month: '2-digit', 
                day: '2-digit',
                weekday: 'short' 
              }).format(eventDate),
              description: dateString,
              ...colors,
              sortDate: eventDate
            });
          }
        }
      });

      upcomingEvents.sort((a, b) => a.sortDate - b.sortDate);
      
      if (upcomingEvents.length === 0) {
        return [
          {
            title: 'âœ… ëª¨ë“  ì¼ì • ì™„ë£Œ',
            date: '-',
            description: 'ì˜ˆì •ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤',
            bgColor: 'bg-green-50',
            borderColor: 'border-green-200',
            textColor: 'text-green-800',
            dateColor: 'text-green-600'
          }
        ];
      }

      return upcomingEvents.slice(0, 3);
    }

    // ì£¼ë³„ ì¼ì • ê³„ì‚° í•¨ìˆ˜
    function getScheduleWeeks() {
      if (!currentInfo || !currentInfo.schedule) {
        return [
          {
            title: 'ì¼ì • ì •ë³´ ì—†ìŒ',
            bgColor: 'bg-gray-50',
            borderColor: 'border-gray-200',
            textColor: 'text-gray-800',
            events: [
              { title: 'â° ë“±ë¡ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤', date: '-' }
            ]
          }
        ];
      }

      const schedule = currentInfo.schedule;
      const startDate = new Date(currentInfo.start_date);
      const endDate = new Date(currentInfo.end_date);
      const today = new Date();

      const sortedEvents = Object.entries(schedule)
        .filter(([_, dateString]) => dateString)
        .map(([key, dateString]) => ({
          key,
          date: new Date(dateString),
          dateString,
          title: {
            orientation: 'OT (ì˜¤ë¦¬ì—”í…Œì´ì…˜)',
            deepLearning1: 'ë”¥ëŸ¬ë‹ íŠ¹ê°• 1ì¼ì°¨',
            deepLearning2: 'ë”¥ëŸ¬ë‹ íŠ¹ê°• 2ì¼ì°¨',
            courseInfo: 'ê³¼ì • ì•ˆë‚´',
            careerLecture: 'ì·¨ì—… íŠ¹ê°•',
            miniProject: 'ë¯¸ë‹ˆí”„ë¡œì íŠ¸ ë°œí‘œ',
            planningPresentation: 'ê¸°íš ë°œí‘œ',
            collaborationLecture: 'í˜‘ì—… íŠ¹ê°•',
            midPresentation: 'ì¤‘ê°„ ë°œí‘œ',
            industryLecture: 'í˜„ì§ì íŠ¹ê°•',
            finalPresentation: 'ìµœì¢… ë°œí‘œ'
          }[key] || key
        }))
        .sort((a, b) => a.date - b.date);

      const weekGroups = [];
      let currentWeekStart = new Date(startDate);
      
      while (currentWeekStart <= endDate) {
        const weekEnd = new Date(currentWeekStart);
        weekEnd.setDate(weekEnd.getDate() + 6);
        
        const weekEvents = sortedEvents.filter(event => 
          event.date >= currentWeekStart && event.date <= weekEnd
        );

        if (weekEvents.length > 0) {
          const isCurrentWeek = today >= currentWeekStart && today <= weekEnd;
          const isPastWeek = weekEnd < today && !isCurrentWeek;
          
          weekGroups.push({
            title: `${currentWeekStart.toLocaleDateString('ko-KR', { 
              year: 'numeric', 
              month: '2-digit', 
              day: '2-digit' 
            })} - ${weekEnd.toLocaleDateString('ko-KR', { 
              year: 'numeric', 
              month: '2-digit', 
              day: '2-digit' 
            })}${isCurrentWeek ? ' (í˜„ì¬ ì§„í–‰ì¤‘)' : ''}`,
            bgColor: isCurrentWeek ? 'bg-blue-50' : isPastWeek ? 'bg-gray-50' : 'bg-green-50',
            borderColor: isCurrentWeek ? 'border-blue-400' : isPastWeek ? 'border-gray-200' : 'border-green-200',
            textColor: isCurrentWeek ? 'text-blue-800' : isPastWeek ? 'text-gray-700' : 'text-green-800',
            isCurrent: isCurrentWeek,
            events: weekEvents.map(event => ({
              title: event.title,
              eventKey: event.key,
              date: event.date.toLocaleDateString('ko-KR', { 
                month: '2-digit', 
                day: '2-digit',
                weekday: 'short'
              }),
              isUpcoming: event.date > today
            }))
          });
        }

        currentWeekStart.setDate(currentWeekStart.getDate() + 7);
      }

      return weekGroups.length > 0 ? weekGroups : [
        {
          title: 'ì¼ì • ì •ë³´ ì—†ìŒ',
          bgColor: 'bg-gray-50',
          borderColor: 'border-gray-200',
          textColor: 'text-gray-800',
          events: [
            { title: 'â° ìƒì„¸ ì¼ì •ì´ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', date: '-' }
          ]
        }
      ];
    }

    // ì•„ì´ì½˜ ë Œë”ë§ í•¨ìˆ˜
    function renderIcon(iconType) {
      const icons = {
        users: '<svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path></svg>',
        check: '<svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',
        warning: '<svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',
        message: '<svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>'
      };
      return icons[iconType] || '';
    }

    // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
    function updateCohortInfo() {
      if (!currentInfo) return;

      document.getElementById('cohortTitle').textContent = `${currentInfo.name} ìƒì„¸ ê´€ë¦¬`;
      document.getElementById('cohortName').textContent = currentInfo.name;
      document.getElementById('cohortStatus').textContent = cohortStatusLabels[currentInfo.status] || currentInfo.status;
      document.getElementById('cohortStatus').className = `${cohortStatusStyles[currentInfo.status]?.bgColor || 'bg-gray-600'} text-black px-3 py-1 rounded-full text-sm font-medium`;
      
      document.getElementById('startDate').textContent = currentInfo.start_date;
      document.getElementById('endDate').textContent = currentInfo.end_date;
      document.getElementById('currentStudents').textContent = currentInfo.current_students;
      document.getElementById('maxStudents').textContent = currentInfo.max_students;
      document.getElementById('studentProgress').style.width = `${Math.round((currentInfo.current_students / currentInfo.max_students) * 100)}%`;
      document.getElementById('mentoringDay').textContent = currentInfo.mentoring_day || 'ì¼ì • ë¯¸ì •';
      document.getElementById('mentoringStatus').textContent = cohortStatusLabels[currentInfo.status] || currentInfo.status;
      
      document.getElementById('scheduleTitle').textContent = `${currentInfo.name} ì „ì²´ ì¼ì •`;
      document.title = `${currentInfo.name} ìƒì„¸ ê´€ë¦¬ - AI-X ì‹œìŠ¤í…œ`;
    }

    function updateStatistics() {
      const statistics = getStatistics();
      const grid = document.getElementById('statisticsGrid');
      
      grid.innerHTML = statistics.map(stat => `
        <div class="bg-white p-4 rounded-lg border ${stat.borderColor}">
          <div class="flex items-center justify-between">
            <div>
              <div class="text-xl font-bold ${stat.color}">${stat.value}</div>
              <div class="text-sm ${stat.color}">${stat.label}</div>
            </div>
            <div class="text-right">
              ${renderIcon(stat.icon)}
            </div>
          </div>
        </div>
      `).join('');
    }

    function updateUpcomingSchedule() {
      const schedule = getUpcomingSchedule();
      const container = document.getElementById('upcomingSchedule');
      
      container.innerHTML = schedule.map(item => `
        <div class="${item.bgColor} border ${item.borderColor} p-3 rounded-lg">
          <div class="flex justify-between items-center">
            <span class="font-medium ${item.textColor}">${item.title}</span>
            <span class="text-sm ${item.dateColor}">${item.date}</span>
          </div>
          <p class="text-sm ${item.dateColor} mt-1">${item.description}</p>
        </div>
      `).join('');
    }

    function updateScheduleWeeks() {
      const weeks = getScheduleWeeks();
      const container = document.getElementById('scheduleWeeks');
      
      container.innerHTML = weeks.map(week => `
        <div class="border ${week.isCurrent ? 'border-2 ' + week.borderColor : week.borderColor} rounded-lg p-4 ${week.bgColor}">
          <h3 class="font-bold ${week.textColor} mb-2">${week.title}</h3>
          <div class="grid md:grid-cols-2 gap-4">
            ${week.events.map(event => `
            <div class="space-y-2">
                <div class="bg-white rounded border">
                  <div class="w-full flex items-center justify-between p-2 rounded ${event.isUpcoming ? 'border-green-300' : ''}">
                    <div class="flex items-center space-x-2">
                      <span class="text-sm">${event.title}</span>
              </div>
                    <span class="text-xs ${event.isUpcoming ? 'text-green-600 font-medium' : 'text-gray-500'}">
                      ${event.date}
                    </span>
          </div>
        </div>
              </div>
            `).join('')}
          </div>
        </div>
      `).join('');
    }

    function loadCohortData() {
      currentInfo = mockCohorts.find(cohort => cohort.id === currentCohort) || mockCohorts[0];
      
      updateCohortInfo();
      updateStatistics();
      updateUpcomingSchedule();
      updateScheduleWeeks();
    }

    // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    function handleBackToDashboard() {
      if (currentCohort) {
        localStorage.setItem('selected-cohort', currentCohort);
      }
      window.location.href = 'main.html';
    }

    function handleEditCohortInfo() {
      alert('ê¸°ìˆ˜ ì •ë³´ ìˆ˜ì • ëª¨ë‹¬ì„ ì—½ë‹ˆë‹¤.\n\nìˆ˜ì • ê°€ëŠ¥ í•­ëª©:\nâ€¢ ê¸°ìˆ˜ ì´ë¦„\nâ€¢ êµìœ¡ ê¸°ê°„\nâ€¢ ìˆ˜ê°•ìƒ ìˆ˜\nâ€¢ ë©˜í† ë§ ì¼ì •');
    }

    function handleModifySchedule() {
      alert('ğŸ“… ì¼ì • ìˆ˜ì • ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤.\n\nìˆ˜ì • ê°€ëŠ¥ í•­ëª©:\nâ€¢ ì¼ì • ë‚ ì§œ ë³€ê²½\nâ€¢ ìƒˆ ì¼ì • ì¶”ê°€\nâ€¢ ì¼ì • ì‚­ì œ\nâ€¢ ì¼ì • ì„¤ëª… ìˆ˜ì •');
    }

    function handleExportSchedule() {
      if (confirm('ì¼ì •ì„ ì–´ë–¤ í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ì‹œê² ìŠµë‹ˆê¹Œ?\n\nOK: Excel íŒŒì¼\nCancel: PDF íŒŒì¼')) {
        alert('ğŸ“Š Excel í˜•ì‹ìœ¼ë¡œ ì¼ì •ì„ ë‚´ë³´ëƒ…ë‹ˆë‹¤.');
      } else {
        alert('ğŸ“„ PDF í˜•ì‹ìœ¼ë¡œ ì¼ì •ì„ ë‚´ë³´ëƒ…ë‹ˆë‹¤.');
      }
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      loadCohortData();
    });
  </script>
</body>
</html> 